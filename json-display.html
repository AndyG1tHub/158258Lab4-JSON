<!DOCTYPE html>
<html lang="eu">
<head>
  <meta charset="UTF-8">
  <title>JSON用户展示</title>

</head>
<body>
  <h1>User Profile</h1>
  <div id="userList"></div>

  <script>
    // 1. Use fetch to get JSON data
    fetch('userProfiles.json')
      .then(response => {
        if (!response.ok) throw new Error('加载失败');
        return response.json(); 
      })
      .then(users => {
        const userList = document.getElementById('userList');
        
        users.forEach((user, index) => {
          const userDiv = document.createElement('div');
          userDiv.className = 'user';
          userDiv.innerHTML = `
            <h2>user ${index + 1}: ${user.firstName} ${user.lastName}</h2>
            <p>email: ${user.email}</p>
            <p>Date of birth: ${user.dateOfBirth}</p>
            <div class="address">
              address:
              ${user.address.street}, ${user.address.city}, ${user.address.state}<br>
              zipCode: ${user.address.zipCode}
            </div>
            <p>theme:${user.userPreferences.theme}<br>Language:${user.userPreferences.language}</p>
            <p>Subscription status: ${user.userPreferences.subscription ? '' : 'Unsubscribed'}</p>
          `;
          userList.appendChild(userDiv);
        });
      })
      .catch(err => console.error('error:', err));
  </script>
</body>
</html>